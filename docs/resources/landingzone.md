---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "meshstack_landingzone Resource - terraform-provider-meshstack"
subcategory: ""
description: |-
  Represents a meshStack landing zone.
---

# meshstack_landingzone (Resource)

Represents a meshStack landing zone.

## Example Usage

```terraform
resource "meshstack_landingzone" "example" {
  metadata = {
    name               = "my-landing-zone-identifier"
    owned_by_workspace = "my-workspace-identifier"
    tags = {
      "confidentiality" = ["internal"],
      "environment"     = ["dev", "qa", "test"],
    }
  }
  spec = {
    display_name                  = "My Landing Zone's Display Name"
    description                   = "My Landing Zone Description"
    automate_deletion_approval    = false
    automate_deletion_replication = false
    info_link                     = "https://example.com/info-about-aws-landing-zone"
    platform_ref = {
      uuid = "4af5864a-da15-11ed-98c8-0242ac190003"
      kind = "meshPlatform"
    }
    platform_properties = {
      aws = {
        aws_target_org_unit_id = "ou-lpzq-kmf17bec"
        aws_enroll_account     = true
        aws_lambda_arn         = "arn:aws:lambda:us-east-1:123456789012:function:MyLambdaFunction"
        aws_role_mappings = [
          {
            project_role_ref = {
              name = "reader"
            }
            platform_role = "project-reader"
            policies = [
              "arn:aws:iam::aws:policy/AmazonS3ReadOnlyAccess",
            ]
          }
        ]
      }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `metadata` (Attributes) (see [below for nested schema](#nestedatt--metadata))
- `spec` (Attributes) (see [below for nested schema](#nestedatt--spec))

### Read-Only

- `api_version` (String) Landing zone datatype version
- `kind` (String) meshObject type, always `meshLandingZone`.
- `status` (Attributes) Current Landing Zone status. (see [below for nested schema](#nestedatt--status))

<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Required:

- `name` (String) Landing zone identifier.
- `owned_by_workspace` (String) Identifier of the workspace that owns this landing zone.

Optional:

- `tags` (Map of Set of String) Tags of the landing zone.


<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Required:

- `automate_deletion_approval` (Boolean) Whether deletion approval is automated for this landing zone.
- `automate_deletion_replication` (Boolean) Whether deletion replication is automated for this landing zone.
- `description` (String) description of the landing zone.
- `display_name` (String) Display name of the landing zone.
- `platform_properties` (Attributes) Platform-specific configuration options. (see [below for nested schema](#nestedatt--spec--platform_properties))
- `platform_ref` (Attributes) Reference to the platform this landing zone belongs to. (see [below for nested schema](#nestedatt--spec--platform_ref))

Optional:

- `info_link` (String) Link to additional information about the landing zone.
- `quotas` (Attributes Set) Quota definitions for this landing zone. (see [below for nested schema](#nestedatt--spec--quotas))

<a id="nestedatt--spec--platform_properties"></a>
### Nested Schema for `spec.platform_properties`

Optional:

- `aks` (Attributes) AKS platform properties. (see [below for nested schema](#nestedatt--spec--platform_properties--aks))
- `aws` (Attributes) AWS platform properties. (see [below for nested schema](#nestedatt--spec--platform_properties--aws))
- `azure` (Attributes) Azure platform properties. (see [below for nested schema](#nestedatt--spec--platform_properties--azure))
- `azurerg` (Attributes) Azure Resource Group platform properties. (see [below for nested schema](#nestedatt--spec--platform_properties--azurerg))
- `gcp` (Attributes) GCP platform properties. (see [below for nested schema](#nestedatt--spec--platform_properties--gcp))
- `kubernetes` (Attributes) Kubernetes platform properties. (see [below for nested schema](#nestedatt--spec--platform_properties--kubernetes))
- `openshift` (Attributes) OpenShift platform properties. (see [below for nested schema](#nestedatt--spec--platform_properties--openshift))

Read-Only:

- `type` (String) Type of the platform. This field is automatically inferred from which platform configuration is provided and cannot be set manually.

<a id="nestedatt--spec--platform_properties--aks"></a>
### Nested Schema for `spec.platform_properties.aks`

Required:

- `kubernetes_role_mappings` (Attributes Set) Roles need to be mapped from the meshRole to the Cluster Role. You can use both built in roles like 'editor' or custom roles that you setup in the Kubernetes Cluster before. For more information see [the Landing Zone documentation](https://docs.meshcloud.io/meshstack.kubernetes.landing-zones/). (see [below for nested schema](#nestedatt--spec--platform_properties--aks--kubernetes_role_mappings))

<a id="nestedatt--spec--platform_properties--aks--kubernetes_role_mappings"></a>
### Nested Schema for `spec.platform_properties.aks.kubernetes_role_mappings`

Required:

- `platform_roles` (Set of String) List of AKS platform roles to assign to the meshProject role.
- `project_role_ref` (Attributes) the meshProject role (see [below for nested schema](#nestedatt--spec--platform_properties--aks--kubernetes_role_mappings--project_role_ref))

<a id="nestedatt--spec--platform_properties--aks--kubernetes_role_mappings--project_role_ref"></a>
### Nested Schema for `spec.platform_properties.aks.kubernetes_role_mappings.project_role_ref`

Required:

- `name` (String) The identifier of the meshProjectRole

Read-Only:

- `kind` (String) meshObject type, always `meshProjectRole`.




<a id="nestedatt--spec--platform_properties--aws"></a>
### Nested Schema for `spec.platform_properties.aws`

Required:

- `aws_enroll_account` (Boolean) If true, accounts will be enrolled to AWS control tower. In case an enrollment configuration is provided for the AWS platform AND this value is set to true, created AWS accounts will automatically be enrolled with AWS Control Tower. Automatic account enrollment does also require the Target Organizational Unit to already be enrolled with AWS Control Tower and the corresponding meshfed-service role needs to be in the "IAM Principal" list for the Portfolio access of the Account Factory Product ID you defined in platform settings. Click [here](https://docs.meshcloud.io/integrations/aws/how-to-integrate/#7-integrate-aws-control-tower) to learn more about the Control Tower setup.
- `aws_role_mappings` (Attributes Set) Roles can be mapped from the meshRole to the AWS Role. The AWS role will be part of the role or group name within AWS. If empty, the default that is configured on platform level will be used. (see [below for nested schema](#nestedatt--spec--platform_properties--aws--aws_role_mappings))
- `aws_target_org_unit_id` (String) The created AWS account for this Landing Zone will be put under the given Organizational Unit. You can also input a Root ID (starting with 'r-') then the account will be put directly under this root without assigning it to an OU (this is not recommended).

Optional:

- `aws_lambda_arn` (String) If provided, it is invoked after each project replication. You can use it to trigger a custom Account Vending Machine to perform several additional provisioning steps.

<a id="nestedatt--spec--platform_properties--aws--aws_role_mappings"></a>
### Nested Schema for `spec.platform_properties.aws.aws_role_mappings`

Required:

- `platform_role` (String) The AWS platform role
- `policies` (Set of String) List of policies associated with this role mapping
- `project_role_ref` (Attributes) the meshProject role (see [below for nested schema](#nestedatt--spec--platform_properties--aws--aws_role_mappings--project_role_ref))

<a id="nestedatt--spec--platform_properties--aws--aws_role_mappings--project_role_ref"></a>
### Nested Schema for `spec.platform_properties.aws.aws_role_mappings.project_role_ref`

Required:

- `name` (String) The identifier of the meshProjectRole

Read-Only:

- `kind` (String) meshObject type, always `meshProjectRole`.




<a id="nestedatt--spec--platform_properties--azure"></a>
### Nested Schema for `spec.platform_properties.azure`

Required:

- `azure_management_group_id` (String) Azure Management Group ID where projects will be created.
- `azure_role_mappings` (Attributes Set) An array of mappings between the meshRole and the Azure specific access role. For more information see [the Landing Zone documentation](https://docs.meshcloud.io/meshstack.azure.landing-zones#meshrole-to-platform-role-mapping). If empty, the default that is configured on platform level will be used. (see [below for nested schema](#nestedatt--spec--platform_properties--azure--azure_role_mappings))

<a id="nestedatt--spec--platform_properties--azure--azure_role_mappings"></a>
### Nested Schema for `spec.platform_properties.azure.azure_role_mappings`

Required:

- `azure_group_suffix` (String) The given role name will be injected into the group name via the group naming pattern configured on the platform instance.
- `azure_role_definitions` (Attributes Set) List of Azure role definitions (see [below for nested schema](#nestedatt--spec--platform_properties--azure--azure_role_mappings--azure_role_definitions))
- `project_role_ref` (Attributes) the meshProject role (see [below for nested schema](#nestedatt--spec--platform_properties--azure--azure_role_mappings--project_role_ref))

<a id="nestedatt--spec--platform_properties--azure--azure_role_mappings--azure_role_definitions"></a>
### Nested Schema for `spec.platform_properties.azure.azure_role_mappings.azure_role_definitions`

Required:

- `azure_role_definition_id` (String) Azure role definition ID

Optional:

- `abac_condition` (String) an ABAC condition for the role assignment in form of a string


<a id="nestedatt--spec--platform_properties--azure--azure_role_mappings--project_role_ref"></a>
### Nested Schema for `spec.platform_properties.azure.azure_role_mappings.project_role_ref`

Required:

- `name` (String) The identifier of the meshProjectRole

Read-Only:

- `kind` (String) meshObject type, always `meshProjectRole`.




<a id="nestedatt--spec--platform_properties--azurerg"></a>
### Nested Schema for `spec.platform_properties.azurerg`

Required:

- `azure_rg_location` (String) The newly created Resource Group for the meshProjects will get assigned to this location. It must be all lower case and without spaces (e.g. `eastus2` for East US 2). In order to list the available locations you can use `az account list-locations --query "[*].name" --out tsv | sort`
- `azure_rg_role_mappings` (Attributes Set) An array of mappings between the meshRole and the Azure specific access role. For more information see [the Landing Zone documentation](https://docs.meshcloud.io/meshstack.azure.landing-zones#meshrole-to-platform-role-mapping). If empty, the default that is configured on platform level will be used. (see [below for nested schema](#nestedatt--spec--platform_properties--azurerg--azure_rg_role_mappings))

Optional:

- `azure_function` (Attributes) Assign an Azure function to the Landing Zone configuration to trigger a small piece of code in the cloud. (see [below for nested schema](#nestedatt--spec--platform_properties--azurerg--azure_function))

<a id="nestedatt--spec--platform_properties--azurerg--azure_rg_role_mappings"></a>
### Nested Schema for `spec.platform_properties.azurerg.azure_rg_role_mappings`

Required:

- `azure_group_suffix` (String) The given role name will be injected into the group name via the group naming pattern configured on the platform instance.
- `azure_role_definition_ids` (Set of String) Role Definitions with the given IDs will be attached to this Azure Role.
- `project_role_ref` (Attributes) the meshProject role (see [below for nested schema](#nestedatt--spec--platform_properties--azurerg--azure_rg_role_mappings--project_role_ref))

<a id="nestedatt--spec--platform_properties--azurerg--azure_rg_role_mappings--project_role_ref"></a>
### Nested Schema for `spec.platform_properties.azurerg.azure_rg_role_mappings.project_role_ref`

Required:

- `name` (String) The identifier of the meshProjectRole

Read-Only:

- `kind` (String) meshObject type, always `meshProjectRole`.



<a id="nestedatt--spec--platform_properties--azurerg--azure_function"></a>
### Nested Schema for `spec.platform_properties.azurerg.azure_function`

Required:

- `azure_function_scope` (String) The unique ID of the Azure Enterprise Application your function belongs to. More details are described [here](https://docs.meshcloud.io/docs/meshstack.azure.landing-zones.html#azure-function-invocation).
- `azure_function_url` (String) The URL of your Azure Function. This is typically a value like https://my-function-app.azurewebsites.net/myfunc



<a id="nestedatt--spec--platform_properties--gcp"></a>
### Nested Schema for `spec.platform_properties.gcp`

Required:

- `gcp_role_mappings` (Attributes Set) You can use both built-in roles like 'roles/editor' or custom roles like 'organizations/123123123123/roles/meshstack.project_developer'. For more information see [the Landing Zone documentation](https://docs.meshcloud.io/meshstack.gcp.landing-zones/#meshrole-to-platform-role-mapping). Multiple GCP Roles can be assigned to one meshRole. If empty, the default that is configured on platform level will be used. (see [below for nested schema](#nestedatt--spec--platform_properties--gcp--gcp_role_mappings))

Optional:

- `gcp_cloud_function_url` (String) If a GCP Cloud Function URL is provided it is getting called at the end of the replication process.
- `gcp_folder_id` (String) Google Cloud Projects will be added to this Google Cloud Folder. This allows applying Organization Policies to all projects managed under this Landing Zone.

<a id="nestedatt--spec--platform_properties--gcp--gcp_role_mappings"></a>
### Nested Schema for `spec.platform_properties.gcp.gcp_role_mappings`

Required:

- `platform_roles` (Set of String) Can be empty. List of GCP IAM roles to assign to the meshProject role.
- `project_role_ref` (Attributes) the meshProject role (see [below for nested schema](#nestedatt--spec--platform_properties--gcp--gcp_role_mappings--project_role_ref))

<a id="nestedatt--spec--platform_properties--gcp--gcp_role_mappings--project_role_ref"></a>
### Nested Schema for `spec.platform_properties.gcp.gcp_role_mappings.project_role_ref`

Required:

- `name` (String) The identifier of the meshProjectRole

Read-Only:

- `kind` (String) meshObject type, always `meshProjectRole`.




<a id="nestedatt--spec--platform_properties--kubernetes"></a>
### Nested Schema for `spec.platform_properties.kubernetes`

Required:

- `kubernetes_role_mappings` (Attributes Set) Kubernetes role mappings configuration. (see [below for nested schema](#nestedatt--spec--platform_properties--kubernetes--kubernetes_role_mappings))

<a id="nestedatt--spec--platform_properties--kubernetes--kubernetes_role_mappings"></a>
### Nested Schema for `spec.platform_properties.kubernetes.kubernetes_role_mappings`

Required:

- `platform_roles` (Set of String) Roles need to be mapped from the meshRole to the Cluster Role. You can use both built in roles like 'editor' or custom roles that you setup in the Kubernetes Cluster before. For more information see [the Landing Zone documentation](https://docs.meshcloud.io/meshstack.kubernetes.landing-zones/).
- `project_role_ref` (Attributes) the meshProject role (see [below for nested schema](#nestedatt--spec--platform_properties--kubernetes--kubernetes_role_mappings--project_role_ref))

<a id="nestedatt--spec--platform_properties--kubernetes--kubernetes_role_mappings--project_role_ref"></a>
### Nested Schema for `spec.platform_properties.kubernetes.kubernetes_role_mappings.project_role_ref`

Required:

- `name` (String) The identifier of the meshProjectRole

Read-Only:

- `kind` (String) meshObject type, always `meshProjectRole`.




<a id="nestedatt--spec--platform_properties--openshift"></a>
### Nested Schema for `spec.platform_properties.openshift`

Optional:

- `openshift_template` (String) OpenShift template to use for this landing zone.



<a id="nestedatt--spec--platform_ref"></a>
### Nested Schema for `spec.platform_ref`

Required:

- `uuid` (String) UUID of the platform.

Read-Only:

- `kind` (String) Must always be set to meshPlatform


<a id="nestedatt--spec--quotas"></a>
### Nested Schema for `spec.quotas`

Required:

- `key` (String) Quota key identifier. Must match a quota key that has been defined on the plaform.
- `value` (Number) Quota value.



<a id="nestedatt--status"></a>
### Nested Schema for `status`

Read-Only:

- `disabled` (Boolean) True if the landing zone is disabled.
- `restricted` (Boolean) If true, users will be unable to select this landing zone in meshPanel. Only Platform teams can create tenants using restricted landing zones with the meshObject API.

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
# import via landingzone identifier
terraform import meshstack_landingzone.example my-landingzone-identifier
```
