---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "meshstack_building_block_v2 Resource - terraform-provider-meshstack"
subcategory: ""
description: |-
  Manage a workspace or tenant building block.
  ~> Note: This resource is in preview. It's incomplete and will change in the near future.
---

# meshstack_building_block_v2 (Resource)

Manage a workspace or tenant building block.

~> **Note:** This resource is in preview. It's incomplete and will change in the near future.

## Example Usage

```terraform
# Workspace Building Block
resource "meshstack_building_block_v2" "example_workspace" {
  spec = {
    building_block_definition_version_ref = {
      uuid = "00000000-0000-0000-0000-000000000000" # Replace with actual definition version UUID
    }

    display_name = "my-building-block"
    target_ref = {
      kind       = "meshWorkspace"
      identifier = "my-workspace-identifier" # Replace with actual workspace identifier
    }

    inputs = {
      name = { value_string = "my-name" }
      size = { value_int = 16 }
    }
  }
}

# Tenant Building Block
data "meshstack_project" "example" {
  metadata = {
    name               = "my-project-identifier"
    owned_by_workspace = "my-workspace-identifier"
  }
}

resource "meshstack_tenant_v4" "example" {
  metadata = {
    owned_by_workspace = data.meshstack_project.example.metadata.owned_by_workspace
    owned_by_project   = data.meshstack_project.example.metadata.name
  }

  spec = {
    platform_identifier     = "my-platform-identifier"
    landing_zone_identifier = "platform-landing-zone-identifier"
  }
}

resource "meshstack_building_block_v2" "example_tenant" {
  spec = {
    building_block_definition_version_ref = {
      uuid = "00000000-0000-0000-0000-000000000001" # Replace with actual definition version UUID
    }

    display_name = "my-tenant-building-block"
    target_ref = {
      kind = "meshTenant"
      uuid = meshstack_tenant_v4.example.metadata.uuid
    }

    inputs = {
      name = { value_string = "my-name" }
      size = { value_int = 16 }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `spec` (Attributes) Building block specification. (see [below for nested schema](#nestedatt--spec))

### Optional

- `wait_for_completion` (Boolean) Whether to wait for the Building Block to reach a terminal state (SUCCEEDED or FAILED) before completing the resource creation or deletion. If false, the resource creation completes immediately after the Building Block is created. (Defaults to `true`)

### Read-Only

- `api_version` (String) Building block datatype version
- `kind` (String) meshObject type, always `meshBuildingBlock`.
- `metadata` (Attributes) Building block metadata. (see [below for nested schema](#nestedatt--metadata))
- `status` (Attributes) Current building block status. (see [below for nested schema](#nestedatt--status))

<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Required:

- `building_block_definition_version_ref` (Attributes) References the building block definition this building block is based on. (see [below for nested schema](#nestedatt--spec--building_block_definition_version_ref))
- `display_name` (String) Display name for the building block as shown in meshPanel.
- `target_ref` (Attributes) References the building block target. Depending on the building block definition this will be a workspace or a tenant (see [below for nested schema](#nestedatt--spec--target_ref))

Optional:

- `inputs` (Attributes Map) Building block user inputs. Each input has exactly one value. Use the value attribute that corresponds to the desired input type, e.g. `value_int` to set an integer input, and leave the remaining attributes empty. (see [below for nested schema](#nestedatt--spec--inputs))
- `parent_building_blocks` (Attributes List) List of parent building blocks. (see [below for nested schema](#nestedatt--spec--parent_building_blocks))

Read-Only:

- `combined_inputs` (Attributes Map) Contains all building block inputs. Each input has exactly one value attribute set according to its' type. (see [below for nested schema](#nestedatt--spec--combined_inputs))

<a id="nestedatt--spec--building_block_definition_version_ref"></a>
### Nested Schema for `spec.building_block_definition_version_ref`

Required:

- `uuid` (String) UUID of the building block definition version.


<a id="nestedatt--spec--target_ref"></a>
### Nested Schema for `spec.target_ref`

Required:

- `kind` (String) Target kind for this building block, depends on building block definition type. One of `meshTenant`, `meshWorkspace`.

Optional:

- `identifier` (String) Identifier of the target workspace.
- `uuid` (String) UUID of the target workspace or tenant.


<a id="nestedatt--spec--inputs"></a>
### Nested Schema for `spec.inputs`

Optional:

- `value_bool` (Boolean)
- `value_code` (String) Code value.
- `value_file` (String)
- `value_int` (Number)
- `value_list` (String) JSON encoded list of objects.
- `value_single_select` (String)
- `value_string` (String)


<a id="nestedatt--spec--parent_building_blocks"></a>
### Nested Schema for `spec.parent_building_blocks`

Required:

- `buildingblock_uuid` (String) UUID of the parent building block.
- `definition_uuid` (String) UUID of the parent building block definition.


<a id="nestedatt--spec--combined_inputs"></a>
### Nested Schema for `spec.combined_inputs`

Read-Only:

- `value_bool` (Boolean)
- `value_code` (String) Code value.
- `value_file` (String)
- `value_int` (Number)
- `value_list` (String) JSON encoded list of objects.
- `value_single_select` (String)
- `value_string` (String)



<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Read-Only:

- `created_on` (String) Timestamp of building block creation.
- `marked_for_deletion_by` (String) For deleted building blocks: user who requested deletion.
- `marked_for_deletion_on` (String) For deleted building blocks: timestamp of deletion.
- `owned_by_workspace` (String) The workspace containing this building block.
- `uuid` (String) UUID which uniquely identifies the building block.


<a id="nestedatt--status"></a>
### Nested Schema for `status`

Read-Only:

- `force_purge` (Boolean) Indicates whether an operator has requested purging of this Building Block.
- `outputs` (Attributes Map) Building block outputs. Each output has exactly one value attribute set. (see [below for nested schema](#nestedatt--status--outputs))
- `status` (String) Execution status. One of `WAITING_FOR_DEPENDENT_INPUT`, `WAITING_FOR_OPERATOR_INPUT`, `PENDING`, `IN_PROGRESS`, `SUCCEEDED`, `FAILED`.

<a id="nestedatt--status--outputs"></a>
### Nested Schema for `status.outputs`

Read-Only:

- `value_bool` (Boolean)
- `value_code` (String) Code value.
- `value_file` (String)
- `value_int` (Number)
- `value_list` (String) JSON encoded list of objects.
- `value_single_select` (String)
- `value_string` (String)
